## 目录
1. 进程与线程的概念
2. 基本线程操作函数
3. 线程的互斥
4. 线程的同步

## 1、进程与线程

进程是程序运行时的一个示例，同一个程序可以有多个实例即多个进程。进程是操作系统进行资源分配（CPU时间片、内存空间等等）的基本单位，进程拥有各自独立的逻辑地址空间。

线程是进程的一个执行流，是操作系统进行处理机调度的基本单位。

一个进程中可以包含多个线程，线程拥有自己独立的栈和局部变量，但同一个进程下的线程共享进程的资源、代码和数据等所有资源，这些线程都运行在进程的地址空间中，这意味着如果进程崩溃，该进程下的所有线程都对终止，同样的，线程崩溃同样会造成进程终止。

可以看出，多进程更加安全，一个进程崩溃不会影响其他进程，多线程相对不是那么健壮。而进程间切换时资源耗费比较大，效率相较于多线程会低一些，所以对于一些高并发、高共享的操作，多线程更优。

综上，多线程具有以下优点：
1. 性能较好。不同进程拥有各自的逻辑地址空间，互不干涉，虽然带来很多好处，但另一方面却给进程间通信造成很多不便，

`thread_t` 类型在 `pthread.h` 中定义，是一种线程句柄，可以理解为“线程id”（缩写为"tid"）。

任何一个程序，如果没有使用POSIX线程，只要创建了进程，那么它是单线程的，因为主进程同样也是一个线程，称为“主”线程。当创建一个新的线程后进程也就是多线程。

系统对最大线程数有限制，所以 `pthread_create()`可能不成功

进程有父进程，子进程的层次关系，而线程无论是创建者还是被创建者都不具有层次关系，线程之间的地位是平等的。造成的结果之一就是对于进程而言，子进程必须由父进程合并，而线程可以由其他任意线程合并。

`pthread_join(tid)` 将 `tid` 线程与自己合并。
